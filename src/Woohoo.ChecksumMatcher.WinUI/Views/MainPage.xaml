<Page
    x:Class="Woohoo.ChecksumMatcher.WinUI.Views.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:CommunityToolkit.WinUI.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:helpers="using:Woohoo.ChecksumMatcher.WinUI.Helpers"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="using:CommunityToolkit.WinUI"
    xmlns:viewmodels="using:Woohoo.ChecksumMatcher.WinUI.ViewModels"
    mc:Ignorable="d">
    <Page.Resources>
        <helpers:EnumToBooleanConverter x:Key="EnumToBooleanConverter" />

        <!--  These styles can be referenced to create a consistent SettingsPage layout  -->

        <!--  Spacing between cards  -->
        <x:Double x:Key="SettingsCardSpacing">4</x:Double>

        <!--  Style (inc. the correct spacing) of a section header  -->
        <Style
            x:Key="SettingsSectionHeaderTextBlockStyle"
            BasedOn="{StaticResource BodyStrongTextBlockStyle}"
            TargetType="TextBlock">
            <Style.Setters>
                <Setter Property="Margin" Value="1,30,0,6" />
            </Style.Setters>
        </Style>
    </Page.Resources>
    <ScrollViewer Margin="0,0,-50,0">

        <Grid>
            <StackPanel
                x:Name="ContentArea"
                Margin="0,0,50,20"
                Spacing="{StaticResource SettingsCardSpacing}">

                <TextBlock x:Uid="MainPage_DownloadDatabases" Style="{StaticResource SettingsSectionHeaderTextBlockStyle}" />

                <ItemsRepeater ItemsSource="{x:Bind ViewModel.WebSites}" TabFocusNavigation="Local">
                    <ItemsRepeater.ItemTemplate>
                        <DataTemplate x:DataType="viewmodels:DatabaseWebSiteViewModel">
                            <controls:SettingsCard
                                x:Uid="MainPage_DownloadCard"
                                Width="250"
                                ActionIcon="{ui:FontIcon Glyph=&#xE8A7;}"
                                Command="{x:Bind OpenWebBrowserCommand}"
                                Description="{x:Bind Subtitle}"
                                Header="{x:Bind Title}"
                                HeaderIcon="{ui:FontIcon Glyph=&#xE774;}"
                                IsClickEnabled="True"
                                ToolTipService.Placement="Bottom"
                                ToolTipService.ToolTip="{x:Bind Description}" />
                        </DataTemplate>
                    </ItemsRepeater.ItemTemplate>
                    <ItemsRepeater.Layout>
                        <controls:WrapLayout
                            HorizontalSpacing="{StaticResource SettingsCardSpacing}"
                            Orientation="Horizontal"
                            VerticalSpacing="{StaticResource SettingsCardSpacing}" />
                    </ItemsRepeater.Layout>
                </ItemsRepeater>

                <TextBlock x:Uid="MainPage_CreateDatabase" Style="{StaticResource SettingsSectionHeaderTextBlockStyle}" />

                <controls:SettingsCard
                    x:Uid="MainPage_CreateDatabaseCard"
                    Click="OnCreateDatabaseClicked"
                    HeaderIcon="{ui:FontIcon Glyph=&#xECC8;}"
                    IsClickEnabled="True" />

                <TextBlock x:Uid="MainPage_AuditFiles" Style="{StaticResource SettingsSectionHeaderTextBlockStyle}" />

                <controls:SettingsCard
                    x:Uid="MainPage_ConfigureCard"
                    Click="OnConfigureClicked"
                    HeaderIcon="{ui:FontIcon Glyph=&#xE713;}"
                    IsClickEnabled="True" />

                <controls:SettingsCard
                    x:Uid="MainPage_AuditCard"
                    Click="OnAuditClicked"
                    HeaderIcon="{ui:FontIcon Glyph=&#xE8F1;}"
                    IsClickEnabled="True" />

                <TextBlock x:Uid="MainPage_OfflineStorage" Style="{StaticResource SettingsSectionHeaderTextBlockStyle}" />

                <controls:SettingsCard
                    x:Uid="MainPage_OfflineStorageCreate"
                    Click="OnOfflineStorageCreate"
                    HeaderIcon="{ui:FontIcon Glyph=&#xECC8;}"
                    IsClickEnabled="True" />

                <controls:SettingsCard
                    x:Uid="MainPage_OfflineStorageView"
                    Click="OnOfflineStorageView"
                    HeaderIcon="{ui:FontIcon Glyph=&#xEDA2;}"
                    IsClickEnabled="True" />

                <TextBlock x:Uid="MainPage_HashFiles" Style="{StaticResource SettingsSectionHeaderTextBlockStyle}" />

                <controls:SettingsCard
                    x:Uid="MainPage_HashCard"
                    Click="OnHashClicked"
                    HeaderIcon="{ui:FontIcon Glyph=&#xE8EF;}"
                    IsClickEnabled="True" />

            </StackPanel>

        </Grid>
    </ScrollViewer>
</Page>
